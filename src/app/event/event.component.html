<div class="main " *ngIf="got_data">
  <div class="center-div text-left">
    <div class="text-right mb-5">
      <button class="btn btn-outline-info" *ngIf="logged_in" (click)="logout()">Logout</button>
      <button class="btn btn-outline-primary" *ngIf="!logged_in" (click)="login()">Sign in</button>
    </div>
    <div class="d-flex align-items-start">
      <h3>{{event['title']}}</h3>
      <span></span>
    </div>
    <span><b>Date:</b> {{event['date']}}</span>

    <div><b>Location:</b> {{event['location']['name']}}</div>
    <div><b>Categories:</b> {{cat_names(event)}}</div>
    <div class="mt-3 mb-3">
      {{event['description']}}
    </div>

    <div class="mt-3" *ngIf="logged_in">
      <div class="form-group">
        <label for="exampleFormControlTextarea1" class="font-weight-bold">Add Comment</label>
        <textarea class="form-control col-6" id="exampleFormControlTextarea1" rows="3" name="comment" [(ngModel)]="comment"></textarea>
      </div>
      <button class="btn btn-secondary" (click)="add_comment()">Add</button>
    </div>

    <div class="mt-3" *ngIf="event['comments'].length">
      <h5>Comments</h5>
      <div class="border p-3">
      <div *ngFor="let comment of event['comments']" class="mb-2 pb-2 border-bottom">
        <div class="font-weight-bold">
          {{comment['user']['name']}}
        </div>
        <div>
          <b>Date: </b>{{comment['created_at'] | date : 'MMM d, y hh:mm a'}}
        </div>
        <div>{{comment['text']}}</div>
      </div>
      </div>
    </div>
  </div>
</div>
